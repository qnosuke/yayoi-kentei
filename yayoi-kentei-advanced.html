<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚„ã‚ˆã„æ¤œå®š Advanced - ã‚„ã‚ˆãŸã‚“ãƒã‚¹ã‚¿ãƒ¼ã¸ã®é“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #ffeef4 0%, #fff0f8 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }
        
        h1 {
            color: #d63384;
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .subtitle {
            color: #6c757d;
            font-size: 1.1em;
            margin-bottom: 20px;
        }
        
        .start-screen, .quiz-screen, .result-screen {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-left: 5px solid #d63384;
        }
        
        .quiz-screen, .result-screen {
            display: none;
        }
        
        .question-counter {
            text-align: center;
            color: #6c757d;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        
        .question {
            font-size: 1.3em;
            margin-bottom: 25px;
            color: #333;
            line-height: 1.5;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .option:hover {
            border-color: #d63384;
            background: #ffeef4;
        }
        
        .option.selected {
            border-color: #d63384;
            background: #ffeef4;
        }
        
        .option.correct {
            border-color: #28a745;
            background: #d4edda;
        }
        
        .option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }
        
        button {
            background: #d63384;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
            display: block;
            margin: 0 auto;
        }
        
        button:hover {
            background: #b02954;
        }
        
        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #d63384, #ff6b9d);
            transition: width 0.3s;
        }
        
        .score {
            text-align: center;
            font-size: 3em;
            color: #d63384;
            margin: 20px 0;
        }
        
        .rank {
            text-align: center;
            font-size: 1.5em;
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
        }
        
        .rank.master {
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            color: #b8860b;
        }
        
        .rank.expert {
            background: linear-gradient(135deg, #c0c0c0, #e6e6e6);
            color: #666;
        }
        
        .rank.beginner {
            background: linear-gradient(135deg, #cd7f32, #d4914a);
            color: #8b4513;
        }
        
        .rank.novice {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            color: #6c757d;
        }
        
        .explanation {
            background: #e7f3ff;
            border: 1px solid #b3d7ff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9em;
            color: #0056b3;
        }
        
        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .share-button {
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            color: white;
            font-size: 14px;
        }
        
        .x-twitter {
            background: #000000;
        }
        
        .line {
            background: #00c300;
        }
        
        .advanced-features {
            background: #e7f3ff;
            border: 1px solid #b3d7ff;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .advanced-features h3 {
            color: #0056b3;
            margin-bottom: 10px;
        }
        
        .advanced-features ul {
            color: #0056b3;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ ã‚„ã‚ˆã„æ¤œå®š Advanced</h1>
            <p class="subtitle">ã‚ãªãŸã¯çœŸã®ã‚„ã‚ˆãŸã‚“ãƒã‚¹ã‚¿ãƒ¼ã«ãªã‚Œã‚‹ã‹ï¼Ÿ</p>
        </header>
        
        <!-- ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ -->
        <div class="start-screen" id="startScreen">
            <div class="advanced-features">
                <h3>ğŸš€ Advancedç‰ˆã®æ–°æ©Ÿèƒ½</h3>
                <ul>
                    <li>å•é¡Œæ•°ãŒ20å•ã«å¢—åŠ ï¼</li>
                    <li>æ¯å›ãƒ©ãƒ³ãƒ€ãƒ ã«10å•ã‚’å‡ºé¡Œ</li>
                    <li>é¸æŠè‚¢ã®é †åºã‚‚ãƒ©ãƒ³ãƒ€ãƒ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</li>
                    <li>ã‚ˆã‚Šå¤šå½©ãªå•é¡Œã§ã‚„ã‚ˆãŸã‚“çŸ¥è­˜ã‚’è©¦ã›ã¾ã™</li>
                </ul>
            </div>
            <h2 style="text-align: center; color: #d63384; margin-bottom: 20px;">æ¤œå®šã«ã¤ã„ã¦</h2>
            <p style="margin-bottom: 15px;">ğŸŒ¸ ã‚„ã‚ˆãŸã‚“ã«é–¢ã™ã‚‹å•é¡Œã‹ã‚‰10å•ã‚’ãƒ©ãƒ³ãƒ€ãƒ å‡ºé¡Œï¼</p>
            <p style="margin-bottom: 15px;">ğŸ¯ æ­£è§£æ•°ã«å¿œã˜ã¦ãƒ©ãƒ³ã‚¯ãŒæ±ºã¾ã‚Šã¾ã™</p>
            <p style="margin-bottom: 15px;">ğŸ”€ é¸æŠè‚¢ã®é †åºã‚‚æ¯å›å¤‰ã‚ã‚Šã¾ã™</p>
            <p style="margin-bottom: 30px;">ğŸ’• åˆ¶é™æ™‚é–“ã¯ãªã„ã®ã§ã€ã‚†ã£ãã‚Šè€ƒãˆã¦ã­</p>
            <button onclick="startQuiz()">æ¤œå®šã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
        </div>
        
        <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
        <div class="quiz-screen" id="quizScreen">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="question-counter" id="questionCounter"></div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <button id="nextButton" onclick="nextQuestion()" disabled>æ¬¡ã®å•é¡Œ</button>
            <div class="explanation" id="explanation" style="display: none;"></div>
        </div>
        
        <!-- çµæœç”»é¢ -->
        <div class="result-screen" id="resultScreen">
            <h2 style="text-align: center; color: #d63384; margin-bottom: 20px;">æ¤œå®šçµæœ</h2>
            <div class="score" id="finalScore"></div>
            <div class="rank" id="rank"></div>
            <p style="text-align: center; margin: 20px 0;" id="resultMessage"></p>
            <div class="share-buttons">
                <a href="#" class="share-button x-twitter" id="xShare" target="_blank">ğ• (Twitter)ã§ã‚·ã‚§ã‚¢</a>
                <a href="#" class="share-button line" id="lineShare" target="_blank">LINEã§ã‚·ã‚§ã‚¢</a>
            </div>
            <button onclick="restartQuiz()" style="margin-top: 20px;">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
        </div>
    </div>
    
    <script>
        const allQuestions = [
            {
                question: "ã‚„ã‚ˆãŸã‚“ã®èª•ç”Ÿæ—¥ã¯ã„ã¤ï¼Ÿ",
                options: ["1985å¹´3æœˆ13æ—¥", "1986å¹´3æœˆ13æ—¥", "1985å¹´3æœˆ31æ—¥", "1984å¹´3æœˆ13æ—¥"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯1985å¹´3æœˆ13æ—¥ç”Ÿã¾ã‚Œã§ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒå¥½ããªã‚¢ã‚¤ã‚¹ã¯ï¼Ÿ",
                options: ["ãƒãƒ¼ã‚²ãƒ³ãƒ€ãƒƒãƒ„", "ãƒ‘ãƒ«ãƒ ã®æ¡ƒå‘³", "31ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ", "MOW"],
                correct: 1,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ãƒ‘ãƒ«ãƒ ã®æ¡ƒå‘³ã‚’è²·ã„ã ã‚ã™ã‚‹ã»ã©å¤§å¥½ãã§ã€å†è²©ã‚’å¿ƒå¾…ã¡ã«ã—ã¦ã„ã¾ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒåƒã„ã¦ã„ã‚‹ãŠåº—ã®åå‰ã¯ï¼Ÿ",
                options: ["ã‚¢ãƒ—ãƒ¬ã‚·ã‚ª", "ã¯ãŸã¯ãŸ", "ã‚‚ãªã¿", "ã‚¹ã‚·ãƒ­ãƒ¼"],
                correct: 1,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ã€Œã¯ãŸã¯ãŸã€ã¨ã„ã†ãŠé­šãŒç¾å‘³ã—ã„ãŠåº—ã§ãƒã‚¤ãƒˆã—ã¦ã„ã¾ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒå¥½ããªå›è»¢å¯¿å¸ãƒã‚§ãƒ¼ãƒ³ã¯ï¼Ÿ",
                options: ["ã¯ã¾å¯¿å¸", "ãã‚‰å¯¿å¸", "ã‚¹ã‚·ãƒ­ãƒ¼", "ã‹ã£ã±å¯¿å¸"],
                correct: 2,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯åˆºèº«ãŒå¥½ãã§ã€å›è»¢å¯¿å¸ã§ã¯ã‚¹ã‚·ãƒ­ãƒ¼ãŒä¸€ç•ªå¥½ãã§ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒé«˜æ ¡æ™‚ä»£ã«å‘¼ã°ã‚Œã¦ã„ãŸã‚ã åã¯ï¼Ÿ",
                options: ["ã‚„ã‚ˆãƒ”ãƒ¼", "ã‚„ã‚ˆãŸã‚“", "ãƒŸãƒ©ã‚¯ãƒ«", "å¼¥ç”Ÿã¡ã‚ƒã‚“"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯é«˜æ ¡ã®æ™‚ã«ã€Œã‚„ã‚ˆãƒ”ãƒ¼ã€ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã—ãŸï¼ã‚¿ã‚³ãƒ”ãƒ¼ã®çœŸä¼¼ã‚‚ã—ã¾ã™ã€‚"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒç‰¹ã«å¥½ããªé£Ÿã¹ç‰©ã®ã‚¸ãƒ£ãƒ³ãƒ«ã¯ï¼Ÿ",
                options: ["è‚‰æ–™ç†", "éººé¡", "ãƒ‡ã‚¶ãƒ¼ãƒˆ", "å’Œé£Ÿ"],
                correct: 1,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯éººé¡ã‚’å¥½ã‚“ã§é£Ÿã¹ã¾ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒã‚ˆãé£Ÿã¹ã‚‹ãƒ‘ãƒ³ã¯ï¼Ÿ",
                options: ["ã‚¯ãƒ­ãƒ¯ãƒƒã‚µãƒ³", "é£Ÿãƒ‘ãƒ³", "ãƒ™ãƒ¼ã‚³ãƒ³ã‚¨ãƒ”", "ãƒ¡ãƒ­ãƒ³ãƒ‘ãƒ³"],
                correct: 2,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯æ™‚é–“ãŒãªã„æ™‚ã§ã‚‚ãƒ™ãƒ¼ã‚³ãƒ³ã‚¨ãƒ”ã ã‘ã¯é£Ÿã¹ã‚ˆã†ã¨ã—ã¾ã™ï¼ãƒ‘ãƒ³ã‚‚å¤§å¥½ãã§ã™ã€‚"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒå¥½ããªãƒ•ãƒ«ãƒ¼ãƒ„ã¯ï¼Ÿ",
                options: ["ã‚Šã‚“ã”", "ãƒ¡ãƒ­ãƒ³", "ãƒãƒŠãƒŠ", "ã‚ªãƒ¬ãƒ³ã‚¸"],
                correct: 1,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ãƒ¡ãƒ­ãƒ³ãŒå¥½ãã§ã€ãƒ¡ãƒ­ãƒ³ã‚¢ã‚¤ã‚¹ã‚’ã‚ˆãé£Ÿã¹ã¾ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒæ‹…å½“ã‚’æŒã£ã¦ã„ã‚‹ãƒ–ãƒ©ãƒ³ãƒ‰ã¯ï¼Ÿ",
                options: ["ãƒ¦ãƒ‹ã‚¯ãƒ­", "ZARA", "ãƒ“ãƒ¼ãƒ ã‚¹", "H&M"],
                correct: 2,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ãƒ“ãƒ¼ãƒ ã‚¹ã«æ‹…å½“ãŒã„ã‚‹å¤ªå®¢ã§ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ã®å¾—æ„æŠ€ã¯ï¼Ÿ",
                options: ["ã‚«ãƒ©ã‚ªã‚±", "ãƒ€ãƒ³ã‚¹", "é¡”ãƒãƒ¡", "æ–™ç†"],
                correct: 2,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯é¡”ãƒãƒ¡ã®ãƒ—ãƒ­ã§ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒæ€¥ã«æ”¹åã—ãŸæ–°ã—ã„åå‰ã¯ï¼Ÿ",
                options: ["Miracleå¼¥ç”Ÿ", "Superå¼¥ç”Ÿ", "Amazingå¼¥ç”Ÿ", "Wonderå¼¥ç”Ÿ"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“ãŒæ€¥ã«æ”¹åã—ã¦Miracleå¼¥ç”Ÿã«ãªã‚Šã¾ã—ãŸï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒå¥½ããªãƒ•ãƒ«ãƒ¼ãƒ„ã§ã€ã‚¢ã‚¤ã‚¹ã‚‚ã‚ˆãé£Ÿã¹ã‚‹ã®ã¯ï¼Ÿ",
                options: ["ã„ã¡ã”", "ãƒ¡ãƒ­ãƒ³", "ã¶ã©ã†", "æ¡ƒ"],
                correct: 1,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ãƒ¡ãƒ­ãƒ³ãŒå¥½ãã§ã€ãƒ¡ãƒ­ãƒ³ã‚¢ã‚¤ã‚¹ã‚’ã‚ˆãé£Ÿã¹ã¾ã™ï¼ã„ã¡ã”ã‚‚å¤§å¥½ãã§ã™ã€‚"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒè²·ã„ã ã‚ã—ã¦å†è²©ã‚’å¿ƒå¾…ã¡ã«ã—ã¦ã„ã‚‹ã‚¢ã‚¤ã‚¹ã¯ï¼Ÿ",
                options: ["ãƒ‘ãƒ«ãƒ ã®æ¡ƒå‘³", "ãƒãƒ¼ã‚²ãƒ³ãƒ€ãƒƒãƒ„", "MOW", "çˆ½"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ãƒ‘ãƒ«ãƒ ã®æ¡ƒå‘³ã‚’è²·ã„ã ã‚ã—ã¦ã€å†è²©ã‚’å¿ƒå¾…ã¡ã«ã—ã¦ã„ã¾ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ã®ç”·æ€§ã®æœè£…ã®å¥½ã¿ã¯ï¼Ÿ",
                options: ["æ´¾æ‰‹ãªãƒ‡ã‚¶ã‚¤ãƒ³", "ç„¡åœ°ã®Tã‚·ãƒ£ãƒ„", "ãƒ–ãƒ©ãƒ³ãƒ‰ç‰©", "ã‚¹ãƒ¼ãƒ„"],
                correct: 1,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ç”·ã®æœè£…ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªç„¡åœ°ã®Tã‚·ãƒ£ãƒ„ãŒå¥½ã¿ã®ã‚ˆã†ã§ã™ï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒã‚ˆãè¡Œãã¤ã‘ã®ã‚¿ã‚³ã‚¹å±‹ã•ã‚“ã®åå‰ã¯ï¼Ÿ",
                options: ["ã‚¢ãƒ—ãƒ¬ã‚·ã‚ª", "ã‚¨ãƒ«ãƒˆãƒªãƒ¼ãƒˆ", "ã‚¿ã‚³ãƒ™ãƒ«", "ãƒ¡ã‚­ã‚·ã‚«ãƒ³"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“è¡Œãã¤ã‘ã®ã‚¿ã‚³ã‚¹ã‚„ã•ã‚“ã€Œã‚¢ãƒ—ãƒ¬ã‚·ã‚ªã€ã€‚ã‚ªãƒ¼ãƒŠãƒ¼ã¯ãªãŠã•ã‚“ï¼ˆæ—¥æœ¬äººï¼‰ã§ã™ï¼"
            },
            {
                question: "åˆãƒ‡ãƒ¼ãƒˆã§è¡Œã£ãŸãŠåº—ã®åå‰ã¯ï¼Ÿ",
                options: ["ã‚‚ãªã¿", "ã¯ãŸã¯ãŸ", "ã‚¢ãƒ—ãƒ¬ã‚·ã‚ª", "ã‚¹ã‚·ãƒ­ãƒ¼"],
                correct: 0,
                explanation: "å¤§é›¨ã®ä¸­ã®åˆãƒ‡ãƒ¼ãƒˆã§ãƒãƒ³ãƒãƒ¼ã‚°ã‚’é£Ÿã¹ã«è¡Œã£ãŸã€Œã‚‚ãªã¿ã€ã§å¥‡è·¡ã‚’èµ·ã“ã—ã¾ã—ãŸï¼"
            },
            {
                question: "åˆãƒ‡ãƒ¼ãƒˆã®æ—¥ã¯ã©ã‚“ãªå¤©æ°—ã ã£ãŸï¼Ÿ",
                options: ["æ™´ã‚Œ", "æ›‡ã‚Š", "å¤§é›¨", "é›ª"],
                correct: 2,
                explanation: "2025å¹´6æœˆ14æ—¥ã®åˆãƒ‡ãƒ¼ãƒˆã¯å¤§é›¨ã®ä¸­ã§ã—ãŸï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒã‚¹ãƒ‘ãƒ ã‚’é–‹ã‘ã‚‹æ™‚ã«ä½¿ã†é“å…·ã‚’ä½•ã¨å‘¼ã‚“ã§ã„ã‚‹ï¼Ÿ",
                options: ["å¿ƒã®éµ", "é­”æ³•ã®éµ", "æ„›ã®éµ", "å¹¸ã›ã®éµ"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“ã¯ã‚¹ãƒ‘ãƒ ã®éµã¿ãŸã„ãªã®ã‚’ã€Œå¿ƒã®éµã€ã¨å‘¼ã‚“ã§ã„ã¾ã—ãŸï¼"
            },
            {
                question: "ã‚„ã‚ˆãŸã‚“ãŒã‚¿ã‚³ãƒ”ãƒ¼ã®çœŸä¼¼ã‚’ã™ã‚‹æ™‚ã®æ±ºã‚ãƒãƒ¼ã‚ºã§è¨€ã†è¨€è‘‰ã¯ï¼Ÿ",
                options: ["ãŠã¯ãªã—ãŒãƒãƒƒãƒ”ãƒ¼ã‚’ç”Ÿã‚€ã‚“ã ã£ãƒ”", "ã¿ã‚“ãªã§ãƒãƒƒãƒ”ãƒ¼ã«ãªã‚‹ã£ãƒ”", "æ„›ãŒãƒãƒƒãƒ”ãƒ¼ã‚’ä½œã‚‹ã£ãƒ”", "ç¬‘é¡”ãŒãƒãƒƒãƒ”ãƒ¼ã®ç´ ã ã£ãƒ”"],
                correct: 0,
                explanation: "ã‚„ã‚ˆãŸã‚“ãŒã‚¿ã‚³ãƒ”ãƒ¼ã®çœŸä¼¼ã‚’ã™ã‚‹æ™‚ã®æ±ºã‚ãƒãƒ¼ã‚ºã¯ã€ŒãŠã¯ãªã—ãŒãƒãƒƒãƒ”ãƒ¼ã‚’ç”Ÿã‚€ã‚“ã ã£ãƒ”ã€ã§ã™ï¼"
            },
            {
                question: "æ˜ ç”»ãƒ‡ãƒ¼ãƒˆã§è¦‹ãŸå®Ÿå†™ç‰ˆã®æ˜ ç”»ã¯ï¼Ÿ",
                options: ["ãƒªãƒ­&ã‚¹ãƒ†ã‚£ãƒƒãƒ", "ã‚¢ãƒ©ã‚¸ãƒ³", "ç¾å¥³ã¨é‡ç£", "ãƒ©ã‚¤ã‚ªãƒ³ã‚­ãƒ³ã‚°"],
                correct: 0,
                explanation: "2025å¹´6æœˆ15æ—¥ã®æ˜ ç”»ãƒ‡ãƒ¼ãƒˆã§å®Ÿå†™ç‰ˆã®ãƒªãƒ­&ã‚¹ãƒ†ã‚£ãƒƒãƒã‚’è¦‹ã¾ã—ãŸï¼"
            }
        ];
        
        let selectedQuestions = [];
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        let shuffledOptions = [];
        let correctAnswerIndex = 0;
        
        // Fisher-Yates ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        // ãƒ©ãƒ³ãƒ€ãƒ ã«10å•é¸æŠ
        function selectRandomQuestions() {
            const shuffled = shuffleArray(allQuestions);
            selectedQuestions = shuffled.slice(0, 10);
        }
        
        // é¸æŠè‚¢ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦æ­£è§£ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ›´æ–°
        function shuffleOptions(question) {
            const options = [...question.options];
            const correctOption = options[question.correct];
            
            const shuffled = shuffleArray(options);
            const newCorrectIndex = shuffled.indexOf(correctOption);
            
            return {
                shuffledOptions: shuffled,
                correctIndex: newCorrectIndex
            };
        }
        
        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            currentQuestion = 0;
            score = 0;
            selectRandomQuestions();
            showQuestion();
        }
        
        function showQuestion() {
            const q = selectedQuestions[currentQuestion];
            const { shuffledOptions: options, correctIndex } = shuffleOptions(q);
            shuffledOptions = options;
            correctAnswerIndex = correctIndex;
            
            document.getElementById('questionCounter').textContent = `å•é¡Œ ${currentQuestion + 1} / ${selectedQuestions.length}`;
            document.getElementById('question').textContent = q.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectOption(index, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('nextButton').disabled = true;
            document.getElementById('explanation').style.display = 'none';
            selectedOption = null;
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            const progress = ((currentQuestion) / selectedQuestions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }
        
        function selectOption(index, element) {
            // æ—¢ã«é¸æŠæ¸ˆã¿ã®å ´åˆã¯ä½•ã‚‚ã—ãªã„
            if (selectedOption !== null) return;
            
            selectedOption = index;
            const q = selectedQuestions[currentQuestion];
            
            // ã™ã¹ã¦ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            // æ­£è§£ãƒ»ä¸æ­£è§£ã®è¡¨ç¤º
            options.forEach((opt, i) => {
                if (i === correctAnswerIndex) {
                    opt.classList.add('correct');
                } else if (i === index && index !== correctAnswerIndex) {
                    opt.classList.add('incorrect');
                }
            });
            
            // ã‚¹ã‚³ã‚¢æ›´æ–°
            if (index === correctAnswerIndex) {
                score++;
            }
            
            // è§£èª¬è¡¨ç¤º
            document.getElementById('explanation').textContent = q.explanation;
            document.getElementById('explanation').style.display = 'block';
            
            // æ¬¡ã¸ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ–
            document.getElementById('nextButton').disabled = false;
        }
        
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < selectedQuestions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }
        
        function showResult() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            document.getElementById('finalScore').textContent = `${score} / ${selectedQuestions.length}`;
            
            let rankText, rankClass, message;
            
            if (score >= 9) {
                rankText = "ğŸ† ã‚„ã‚ˆãŸã‚“ãƒã‚¹ã‚¿ãƒ¼";
                rankClass = "master";
                message = "å®Œç’§ã§ã™ï¼ã‚ãªãŸã¯çœŸã®ã‚„ã‚ˆãŸã‚“ãƒã‚¹ã‚¿ãƒ¼ã§ã™ï¼";
            } else if (score >= 7) {
                rankText = "ğŸ¥ˆ ã‚„ã‚ˆãŸã‚“ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ";
                rankClass = "expert";
                message = "ç´ æ™´ã‚‰ã—ã„ï¼ã‚„ã‚ˆãŸã‚“ã®ã“ã¨ã‚’ã‚ˆãçŸ¥ã£ã¦ã„ã¾ã™ã­ï¼";
            } else if (score >= 5) {
                rankText = "ğŸ¥‰ ã‚„ã‚ˆãŸã‚“ãƒ“ã‚®ãƒŠãƒ¼";
                rankClass = "beginner";
                message = "ã¾ãšã¾ãšã§ã™ï¼ã‚‚ã†å°‘ã—å‹‰å¼·ã™ã‚Œã°ãƒã‚¹ã‚¿ãƒ¼ã«ï¼";
            } else {
                rankText = "ğŸ“š ã‚„ã‚ˆãŸã‚“è¦‹ç¿’ã„";
                rankClass = "novice";
                message = "ã¾ã ã¾ã ã§ã™ï¼ã‚„ã‚ˆãŸã‚“ã®ã“ã¨ã‚’ã‚‚ã£ã¨çŸ¥ã‚Šã¾ã—ã‚‡ã†ï¼";
            }
            
            const rankElement = document.getElementById('rank');
            rankElement.textContent = rankText;
            rankElement.className = `rank ${rankClass}`;
            
            document.getElementById('resultMessage').textContent = message;
            
            // ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã®è¨­å®š
            const shareText = `ã‚„ã‚ˆã„æ¤œå®š Advancedç‰ˆã§${score}/${selectedQuestions.length}ç‚¹ã‚’å–ã‚Šã¾ã—ãŸï¼ãƒ©ãƒ³ã‚¯ã¯ã€Œ${rankText}ã€ã§ã™ï¼ #ã‚„ã‚ˆã„æ¤œå®š`;
            const url = window.location.href;
            
            document.getElementById('xShare').href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(url)}`;
            document.getElementById('lineShare').href = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(url)}&text=${encodeURIComponent(shareText)}`;
        }
        
        function restartQuiz() {
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
            
            // ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'auto';
                opt.classList.remove('correct', 'incorrect', 'selected');
            });
        }
    </script>
</body>
</html>